import{d as k,r as v,o as C,c as r,a as s,b as I,w as P,e as V,f as c,v as D,g as m,F as S,h as A,i as n,t as l,n as N,_ as x}from"./index-DyGaL9C0.js";import{p as y}from"./propertyService-DaU3EWdW.js";const F={class:"properties fade-in"},h={class:"flex justify-between items-center",style:{"margin-bottom":"2rem"}},T={class:"glass-card",style:{"margin-bottom":"2rem"}},M={class:"grid grid-cols-3 gap-2"},U={class:"form-group"},B={class:"form-group"},E={class:"form-group"},R={key:0,class:"glass-card"},$={key:1,class:"glass-card"},H={key:2,class:"grid grid-cols-3 gap-2"},L={class:"property-header"},j={class:"property-type"},z={class:"property-info"},O={class:"info-row"},q={class:"value"},G={class:"info-row"},J={class:"value"},K={class:"info-row"},Q={class:"value"},W={class:"info-row"},X={class:"value"},Y={class:"info-row"},Z={class:"property-actions"},ss=["onClick"],es=["onClick"],ts=k({__name:"PropertiesView",setup(os){const d=v([]),u=v(!0),a=v({name:"",type:void 0,status:void 0}),g=o=>({1:"ğŸ¨ Hotel",2:"ğŸ¡ Villa",3:"ğŸ¢ Apartment"})[o]||"Unknown",f=o=>new Intl.NumberFormat("id-ID").format(o),i=async()=>{try{u.value=!0;const o=await y.getAllProperties(a.value.name||void 0,a.value.type,a.value.status);d.value=o.data}catch(o){console.error("Error loading properties:",o),alert("Failed to load properties")}finally{u.value=!1}},_=o=>{alert(`View property: ${o}`)},b=async o=>{var e,p;if(confirm("Are you sure you want to delete this property?"))try{await y.deleteProperty(o),alert("Property deleted successfully"),i()}catch(t){console.error("Error deleting property:",t),alert(((p=(e=t.response)==null?void 0:e.data)==null?void 0:p.message)||"Failed to delete property")}};return C(()=>{i()}),(o,e)=>{const p=V("router-link");return n(),r("div",F,[s("div",h,[e[4]||(e[4]=s("h1",null,"Properties Management",-1)),I(p,{to:"/properties/create"},{default:P(()=>[...e[3]||(e[3]=[s("button",{class:"glass-button primary"},"â• Create Property",-1)])]),_:1})]),s("div",T,[e[10]||(e[10]=s("h3",null,"Filters",-1)),s("div",M,[s("div",U,[e[5]||(e[5]=s("label",{class:"form-label"},"Search by Name",-1)),c(s("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.name=t),type:"text",class:"glass-input",placeholder:"Property name...",onInput:i},null,544),[[D,a.value.name]])]),s("div",B,[e[7]||(e[7]=s("label",{class:"form-label"},"Type",-1)),c(s("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.type=t),class:"glass-input",onChange:i},[...e[6]||(e[6]=[s("option",{value:void 0},"All Types",-1),s("option",{value:1},"Hotel",-1),s("option",{value:2},"Villa",-1),s("option",{value:3},"Apartment",-1)])],544),[[m,a.value.type]])]),s("div",E,[e[9]||(e[9]=s("label",{class:"form-label"},"Status",-1)),c(s("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.status=t),class:"glass-input",onChange:i},[...e[8]||(e[8]=[s("option",{value:void 0},"All Status",-1),s("option",{value:1},"Active",-1),s("option",{value:0},"Inactive",-1)])],544),[[m,a.value.status]])])])]),u.value?(n(),r("div",R,[...e[11]||(e[11]=[s("p",null,"Loading properties...",-1)])])):d.value.length===0?(n(),r("div",$,[...e[12]||(e[12]=[s("p",null,"No properties found. Create your first property!",-1)])])):(n(),r("div",H,[(n(!0),r(S,null,A(d.value,t=>(n(),r("div",{key:t.propertyID,class:"property-card glass-card"},[s("div",L,[s("h3",null,l(t.propertyName),1),s("span",j,l(g(t.type)),1)]),s("div",z,[s("div",O,[e[13]||(e[13]=s("span",{class:"label"},"ID:",-1)),s("span",q,l(t.propertyID),1)]),s("div",G,[e[14]||(e[14]=s("span",{class:"label"},"Owner:",-1)),s("span",J,l(t.ownerName),1)]),s("div",K,[e[15]||(e[15]=s("span",{class:"label"},"Total Rooms:",-1)),s("span",Q,l(t.totalRoom),1)]),s("div",W,[e[16]||(e[16]=s("span",{class:"label"},"Income:",-1)),s("span",X,"Rp "+l(f(t.income)),1)]),s("div",Y,[e[17]||(e[17]=s("span",{class:"label"},"Status:",-1)),s("span",{class:N(["badge",t.activeStatus===1?"badge-success":"badge-danger"])},l(t.activeStatus===1?"Active":"Inactive"),3)])]),s("div",Z,[s("button",{class:"glass-button",onClick:w=>_(t.propertyID)}," ğŸ‘ï¸ View ",8,ss),s("button",{class:"glass-button danger",onClick:w=>b(t.propertyID)}," ğŸ—‘ï¸ Delete ",8,es)])]))),128))]))])}}}),rs=x(ts,[["__scopeId","data-v-a16a594e"]]);export{rs as default};
